import{_,r as p,g as y,c as l,b as t,w,v as k,F as c,e as x,h as C,t as a,a as B,f as o,n as f}from"./app-DWTXrR1v.js";const R={class:"relative"},S={class:"sticky top-0 z-10 bg-[#121212] px-8 py-4"},j={class:"flex items-center bg-[#242424] rounded-full px-4 py-2 focus-within:outline focus-within:outline-2 focus-within:outline-white"},I={class:"px-8"},V={class:"flex items-center gap-2 mb-6 mt-4"},q=["onClick"],z={key:0,class:"flex items-center justify-center py-12"},D={key:1,class:"space-y-6"},F={key:0},L={class:"bg-[#181818] hover:bg-[#282828] p-5 rounded-md transition-all group cursor-pointer"},N={class:"flex items-start gap-4"},U=["src","alt"],$={class:"font-bold text-xl mb-2"},E={class:"flex items-center gap-2"},G={class:"text-sm text-[#b3b3b3]"},M={class:"text-sm text-[#b3b3b3]"},Q={class:"space-y-2"},T={class:"w-6 text-center text-[#b3b3b3] group-hover:text-white"},A=["src","alt"],H={class:"flex-1 min-w-0"},J={class:"font-normal text-base text-white truncate"},K={class:"text-sm text-[#b3b3b3] truncate"},O={class:"text-sm text-[#b3b3b3]"},P={key:2,class:"py-12 text-center text-[#b3b3b3]"},W={class:"text-lg font-bold mb-2"},X={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},Y={class:"text-2xl font-bold p-4"},Z={__name:"Search",setup(tt){const n=p(""),u=p([]),b=p(!1),d=p("all"),m=[{id:"all",name:"Все"},{id:"tracks",name:"Треки"},{id:"artists",name:"Исполнители"},{id:"albums",name:"Альбомы"},{id:"playlists",name:"Плейлисты"}],h=[{id:1,name:"Поп",color:"bg-pink-600"},{id:2,name:"Хип-хоп",color:"bg-purple-600"},{id:3,name:"Рок",color:"bg-red-600"},{id:4,name:"Электронная",color:"bg-blue-600"},{id:5,name:"Джаз",color:"bg-yellow-600"},{id:6,name:"R&B",color:"bg-green-600"}],i=y(()=>d.value==="all"?u.value:u.value.filter(r=>r.type===d.value));async function g(){if(!n.value.trim()){u.value=[];return}b.value=!0;try{const r=await B.get(`/api/search?q=${encodeURIComponent(n.value)}`);u.value=r.data}catch(r){console.error("Ошибка поиска:",r)}finally{b.value=!1}}return(r,e)=>(o(),l("div",R,[t("div",S,[t("div",j,[e[1]||(e[1]=t("i",{class:"fas fa-search text-[#969696] text-base mr-4"},null,-1)),w(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),onInput:g,placeholder:"Что хотите послушать?",class:"bg-transparent text-white placeholder-[#969696] text-base w-full focus:outline-none"},null,544),[[k,n.value]])])]),t("div",I,[t("div",V,[(o(),l(c,null,x(m,s=>t("button",{key:s.id,onClick:v=>d.value=s.id,class:f(["px-4 py-2 rounded-full text-sm font-bold transition-all",d.value===s.id?"bg-white text-black":"bg-[#232323] text-white hover:bg-[#2a2a2a]"])},a(s.name),11,q)),64))]),n.value?(o(),l(c,{key:0},[b.value?(o(),l("div",z,e[2]||(e[2]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"},null,-1)]))):i.value.length?(o(),l("div",D,[d.value==="all"?(o(),l("section",F,[e[5]||(e[5]=t("h2",{class:"text-2xl font-bold mb-4"},"Лучший результат",-1)),t("div",L,[t("div",N,[t("img",{src:i.value[0].image,alt:i.value[0].title,class:"w-24 h-24 rounded shadow-lg"},null,8,U),t("div",null,[t("h3",$,a(i.value[0].title),1),t("div",E,[t("span",G,a(i.value[0].type),1),e[3]||(e[3]=t("span",{class:"text-[#b3b3b3]"},"•",-1)),t("span",M,a(i.value[0].artist),1)])]),e[4]||(e[4]=t("button",{class:"ml-auto bg-[#1ed760] rounded-full w-12 h-12 flex items-center justify-center shadow-xl opacity-0 group-hover:opacity-100 transition-all hover:scale-105"},[t("i",{class:"fas fa-play text-black text-base"})],-1))])])])):C("",!0),t("section",null,[e[8]||(e[8]=t("h2",{class:"text-2xl font-bold mb-4"},"Треки",-1)),t("div",Q,[(o(!0),l(c,null,x(i.value.slice(0,4),(s,v)=>(o(),l("div",{key:s.id,class:"flex items-center gap-4 p-2 rounded-md hover:bg-[#ffffff1a] group transition-colors cursor-pointer"},[t("span",T,a(v+1),1),t("img",{src:s.image,alt:s.title,class:"w-10 h-10 rounded"},null,8,A),t("div",H,[t("h3",J,a(s.title),1),t("p",K,a(s.artist),1)]),e[6]||(e[6]=t("button",{class:"text-[#1ed760] opacity-0 group-hover:opacity-100 transition-opacity"},[t("i",{class:"far fa-heart text-base"})],-1)),t("span",O,a(s.duration),1),e[7]||(e[7]=t("button",{class:"text-[#1ed760] opacity-0 group-hover:opacity-100 transition-opacity"},[t("i",{class:"fas fa-ellipsis text-base"})],-1))]))),128))])])])):(o(),l("div",P,[t("p",W,'Ничего не найдено по запросу "'+a(n.value)+'"',1),e[9]||(e[9]=t("p",{class:"text-sm"},"Попробуйте другие ключевые слова или фильтры",-1))]))],64)):(o(),l(c,{key:1},[e[11]||(e[11]=t("h2",{class:"text-2xl font-bold mb-6"},"Просмотреть все",-1)),t("div",X,[(o(),l(c,null,x(h,s=>t("div",{key:s.id,class:f(["aspect-square rounded-lg overflow-hidden cursor-pointer relative group",s.color])},[t("h3",Y,a(s.name),1),e[10]||(e[10]=t("div",{class:"absolute bottom-2 right-2"},[t("button",{class:"bg-[#1ed760] rounded-full w-12 h-12 flex items-center justify-center shadow-xl translate-y-2 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all hover:scale-105"},[t("i",{class:"fas fa-play text-black text-base"})])],-1))],2)),64))])],64))])]))}},st=_(Z,[["__scopeId","data-v-9529c058"]]);export{st as default};
